"use strict";var lettersPattern=/[a-z]/,currentGuessCount=1,currentGuess=document.querySelector("#guess"+currentGuessCount),words=["baker","store","horse","speak","clone","apple","bread"],solutionWord="",chooseWord=function(){var e=Math.floor(Math.random()*words.length)+1;console.log(e),solutionWord=words[e],console.log(solutionWord)};chooseWord(),document.addEventListener("keydown",(function(e){console.log("keypress "+e.key),console.log(currentGuess);var t=e.key;1==t.length&&lettersPattern.test(e.key)&&currentGuess.dataset.letters.length<5?(console.log("is letter "),updateLetter(t)):"Backspace"==e.key&&""!=currentGuess.dataset.letters?(console.log("backspace"),deleteFromLetters()):"Enter"==e.key&&5==currentGuess.dataset.letters.length&&submitGuess()}));var submitGuess=function(){console.log("submit guess");for(var e=function(e){setTimeout((function(){revealTile(e,checkLetter(e))}),200*e)},t=0;t<5;t++)e(t)},cheackIfGuessComplete=function(e){4==e?checkWin():console.log("not win?")},checkWin=function(){solutionWord==currentGuess.dataset.letters?jumpTiles():(currentGuessCount++,currentGuess=document.querySelector("#guess"+currentGuessCount))},jumpTiles=function(){for(var e=function(e){setTimeout((function(){document.querySelector("#guess".concat(currentGuessCount,"Tile").concat(e+1)).classList.add("jump")}),200*e)},t=0;t<5;t++)e(t)},updateLetter=function(e){var t=currentGuess.dataset.letters+e,s=t.length;currentGuess.dataset.letters=t,updateTiles(s,e)},updateTiles=function(e,t){var s=document.querySelector("#guess"+currentGuessCount+"Tile"+e);s.innerHTML=t,s.classList.add("has-letter")},deleteFromLetters=function(){var e=currentGuess.dataset.letters,t=e.slice(0,-1);currentGuess.dataset.letters=t,deleteFromTiles(e.length)},deleteFromTiles=function(e){var t=document.querySelector("#guess"+currentGuessCount+"Tile"+e);t.innerText="",t.classList.remove("has-letter")},checkLetter=function(e){var t=currentGuess.dataset.letters.charAt(e);return t==solutionWord.charAt(e)?"correct":checkLetterExists(t)?"present":"absent"},checkLetterExists=function(e){return solutionWord.includes(e)},revealTile=function(e,t){console.log("i = ".concat(e," status = ").concat(t));var s=e+1,r=document.querySelector("#guess"+currentGuessCount+"Tile"+s);switch(t){case"correct":r.classList.add("correct");break;case"present":r.classList.add("present");break;case"absent":r.classList.add("absent")}flipTile(s,t),cheackIfGuessComplete(e)},flipTile=function(e,t){var s=document.querySelector("#guess"+currentGuessCount+"Tile"+e);s.classList.add("flip-in"),setTimeout((function(){s.classList.add(t)}),200),setTimeout((function(){s.classList.remove("flip-in"),s.classList.add("flip-out")}),200),setTimeout((function(){s.classList.remove("flip-out")}),1500)};
//# sourceMappingURL=script.js.map